______________________ TestEngineEmpire.test_engine_init ______________________

self = <temp_gauntlet.test_engine_empire.TestEngineEmpire object at 0x000001AD1A494B90>
mock_dialogue = <MagicMock name='DialogueEngine' id='1843012184656'>
mock_hud = <MagicMock name='HUD' id='1843012184992'>
mock_load = <MagicMock name='load_config' id='1843012185328'>
tmp_path = WindowsPath('C:/Users/Craig/AppData/Local/Temp/pytest-of-Craig/pytest-255/test_engine_init0')

    @patch('src.core.utils.load_config', return_value={"thresholds": {"REC": 0.9}})
    @patch('src.core.ui.HUD')
    @patch('src.core.engine.dialogue.DialogueEngine')
    def test_engine_init(self, mock_dialogue, mock_hud, mock_load, tmp_path):
        engine = SovereignEngine(project_root=tmp_path)
>       assert engine.THRESHOLDS["REC"] == 0.9
E       assert 0.5 == 0.9

tests\empire_tests\temp_gauntlet\test_engine_empire.py:20: AssertionError
---------------------------- Captured stdout call -----------------------------
[2;36m???????????????????????????????????????? [36m[1mENGINE INITIALIZED[0m[2;36m ????????????????????????????????????????[0m
[2;36m?[0m [36mSTATUS              [0m [32mONLINE[0m                                                                       [2;36m?[0m
[2;36m????????????????????????????????????????????????????????????????????????????????????????????????????[0m
______________________ TestEngineEmpire.test_render_hud _______________________

self = <temp_gauntlet.test_engine_empire.TestEngineEmpire object at 0x000001AD1A481BA0>
mock_box = <MagicMock name='box_top' id='1843013029904'>
tmp_path = WindowsPath('C:/Users/Craig/AppData/Local/Temp/pytest-of-Craig/pytest-255/test_render_hud0')

    @patch('src.core.ui.HUD.box_top')
    def test_render_hud(self, mock_box, tmp_path):
        # Create .agent dir
        (tmp_path / ".agent").mkdir()
        with patch('src.core.utils.load_config', return_value={}):
            # Don't patch HUD entirely, just the specific methods to avoid pollution
            with patch('src.core.ui.HUD.box_row'):
                with patch('src.core.engine.dialogue.DialogueEngine'):
                    engine = SovereignEngine(project_root=tmp_path)
                    engine._render_hud("query", {"trigger": "match", "score": 1.0, "is_global": False})
>                   mock_box.assert_called()

tests\empire_tests\temp_gauntlet\test_engine_empire.py:60: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <MagicMock name='box_top' id='1843013029904'>

    def assert_called(self):
        """assert that the mock was called at least once
        """
        if self.call_count == 0:
            msg = ("Expected '%s' to have been called." %
                   (self._mock_name or 'mock'))
>           raise AssertionError(msg)
E           AssertionError: Expected 'box_top' to have been called.

C:\Python314\Lib\unittest\mock.py:954: AssertionError
---------------------------- Captured stdout call -----------------------------
[2;36m???????????????????????????????????????? [36m[1mENGINE INITIALIZED[0m[2;36m ????????????????????????????????????????[0m
[2;36m?[0m [36mSTATUS              [0m [32mONLINE[0m                                                                       [2;36m?[0m
[2;36m????????????????????????????????????????????????????????????????????????????????????????????????????[0m
[2;36m??????????????????????????????????????? [36m[1mC* BUTLER INTERFACE[0m[2;36m ????????????????????????????????????????[0m
[2;36m?[0m [36mIntent              [0m [1mquery[0m                                                                        [2;36m?[0m
[2;36m?[0m [36mMatch               [0m [2mmatch[0m                                                                        [2;36m?[0m
[2;36m?[0m [36mConfidence          [0m [32m[32m??????????[2;32m[0m 1.00[0m                                              [2;36m?[0m
[2;36m????????????????????????????????????????????????????????????????????????????????????????????????????[0m
_____________________ TestHarvestEmpire.test_harvest_loop _____________________

self = <temp_gauntlet.test_harvest_empire.TestHarvestEmpire object at 0x000001AD1A482520>
mock_client = <MagicMock name='Client' id='1843014570336'>
mock_env = <MagicMock name='get' id='1843014570672'>
mock_sovereign_fish = <MagicMock name='SovereignFish' id='1843014571008'>
tmp_path = WindowsPath('C:/Users/Craig/AppData/Local/Temp/pytest-of-Craig/pytest-255/test_harvest_loop0')

    @patch('src.sentinel.harvest_responses.SovereignFish')
    @patch('os.environ.get', return_value="fake_key")
    @patch('google.genai.Client')
    def test_harvest_loop(self, mock_client, mock_env, mock_sovereign_fish, tmp_path):
        # Setup mocks
        mock_sovereign_fish_instance = mock_sovereign_fish.return_value
    
        # We need to mock FIXTURES_DIR and PROJECT_ROOT for isolation
        with patch('src.sentinel.harvest_responses.FIXTURES_DIR', tmp_path), \
             patch('src.sentinel.harvest_responses.Path') as mock_path_class:
    
            # Setup Path("/...") call inside harvest to return tmp_path
            mock_path_class.return_value.resolve.return_value = tmp_path
    
            with patch('src.core.ui.HUD'):
>               harvest(cycles=2)

tests\empire_tests\temp_gauntlet\test_harvest_empire.py:54: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
src\sentinel\harvest_responses.py:101: in harvest
    real_client = genai.Client(api_key=api_key)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\AppData\Roaming\Python\Python314\site-packages\google\genai\client.py:426: in __init__
    self._api_client = self._get_api_client(
..\..\AppData\Roaming\Python\Python314\site-packages\google\genai\client.py:474: in _get_api_client
    return BaseApiClient(
..\..\AppData\Roaming\Python\Python314\site-packages\google\genai\_api_client.py:712: in __init__
    client_args, async_client_args = self._ensure_httpx_ssl_ctx(
..\..\AppData\Roaming\Python\Python314\site-packages\google\genai\_api_client.py:823: in _ensure_httpx_ssl_ctx
    ctx = ssl.create_default_context(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

purpose = <Purpose.SERVER_AUTH: _ASN1Object(nid=129, shortname='serverAuth', longname='TLS Web Server Authentication', oid='1.3.6.1.5.5.7.3.1')>

    def create_default_context(purpose=Purpose.SERVER_AUTH, *, cafile=None,
                               capath=None, cadata=None):
        """Create a SSLContext object with default settings.
    
        NOTE: The protocol and settings may change anytime without prior
              deprecation. The values represent a fair balance between maximum
              compatibility and security.
        """
        if not isinstance(purpose, _ASN1Object):
            raise TypeError(purpose)
    
        # SSLContext sets OP_NO_SSLv2, OP_NO_SSLv3, OP_NO_COMPRESSION,
        # OP_CIPHER_SERVER_PREFERENCE, OP_SINGLE_DH_USE and OP_SINGLE_ECDH_USE
        # by default.
        if purpose == Purpose.SERVER_AUTH:
            # verify certs and host name in client mode
            context = SSLContext(PROTOCOL_TLS_CLIENT)
            context.verify_mode = CERT_REQUIRED
            context.check_hostname = True
        elif purpose == Purpose.CLIENT_AUTH:
            context = SSLContext(PROTOCOL_TLS_SERVER)
        else:
            raise ValueError(purpose)
    
        # `VERIFY_X509_PARTIAL_CHAIN` makes OpenSSL's chain building behave more
        # like RFC 3280 and 5280, which specify that chain building stops with the
        # first trust anchor, even if that anchor is not self-signed.
        #
        # `VERIFY_X509_STRICT` makes OpenSSL more conservative about the
        # certificates it accepts, including "disabling workarounds for
        # some broken certificates."
        context.verify_flags |= (_ssl.VERIFY_X509_PARTIAL_CHAIN |
                                 _ssl.VERIFY_X509_STRICT)
    
        if cafile or capath or cadata:
>           context.load_verify_locations(cafile, capath, cadata)
E           FileNotFoundError: [Errno 2] No such file or directory

C:\Python314\Lib\ssl.py:717: FileNotFoundError
------------------------------ Captured log call ------------------------------
WARNING  google_genai._api_client:_api_client.py:105 Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
______________________________ test_hud_logging _______________________________

capsys = <_pytest.capture.CaptureFixture object at 0x000001AD1C07EFD0>

    def test_hud_logging(capsys):
        HUD.PERSONA = "ALFRED"
        HUD.log("INFO", "Test message")
        captured = capsys.readouterr()
>       assert "ALFRED" in captured.out or "[INFO]" in captured.out or "Test message" in captured.out
E       AssertionError: assert ('ALFRED' in '' or '[INFO]' in '' or 'Test message' in '')
E        +  where '' = CaptureResult(out='', err='').out
E        +  and   '' = CaptureResult(out='', err='').out
E        +  and   '' = CaptureResult(out='', err='').out

tests\empire_tests\test_core_engine_empire.py:8: AssertionError
_____________ TestCorvusDispatcher.test_show_help_categorization ______________

self = <test_dispatcher_help_empire.TestCorvusDispatcher object at 0x000001AD1BEBCCD0>
mock_box_row = <MagicMock name='box_row' id='1843035912384'>
dispatcher = <src.core.cstar_dispatcher.CorvusDispatcher object at 0x000001AD1D6F0B00>

    @patch('src.core.ui.HUD.box_row')
    def test_show_help_categorization(self, mock_box_row, dispatcher):
        dispatcher.show_help()
        # Verify box_row was called with Scripts and Workflows
        calls = [call.args[0] for call in mock_box_row.call_args_list]
>       assert "SCRIPTS" in calls
E       AssertionError: assert 'SCRIPTS' in []

tests\empire_tests\test_dispatcher_help_empire.py:32: AssertionError
---------------------------- Captured stdout call -----------------------------
[2;36mâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [36m[1mğŸ”± CORVUS STAR CLI (c*)[0m[2;36m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
[2;36mâ”‚[0m [2;36mROOT                [0m [36mC:\Users\Craig\AppData\Local\Temp\pytest-of-Craig\pytest-255\test_show_he...[0m [2;36mâ”‚[0m
[2;36mâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤[0m
[2;36mâ”‚[0m [2;36mSCRIPTS             [0m [32mtest_cmd[0m                                                                     [2;36mâ”‚[0m
[2;36mâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤[0m
[2;36mâ”‚[0m [2;36mWORKFLOWS           [0m [35mtest_wf[0m                                                                      [2;36mâ”‚[0m
[2;36mâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤[0m
[2;36mâ”‚[0m [36mSHORTCUTS           [0m [33m-O.D.I.N., -alfred[0m                                                               [2;36mâ”‚[0m
[2;36mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
____________ TestSovereignEngineEmpire.test_proactive_lexicon_lift ____________

self = <test_sv_engine_empire.TestSovereignEngineEmpire object at 0x000001AD1BE4FA80>
mock_hud = <MagicMock name='HUD' id='1843043102944'>
mock_cortex = <MagicMock name='Cortex' id='1843043103280'>
mock_brave = <MagicMock name='BraveSearch' id='1843043103616'>
mock_vector = <MagicMock name='SovereignVector' id='1843043105968'>
mock_strat = <MagicMock name='get_strategy' id='1843043106304'>
mock_config = <MagicMock name='load_config' id='1843044024400'>

    @patch("src.core.sv_engine.utils.load_config", return_value={"persona": "ALFRED"})
    @patch("src.core.personas.get_strategy")
    @patch("src.core.sv_engine.SovereignVector")
    @patch("src.core.sv_engine.BraveSearch")
    @patch("src.core.sv_engine.Cortex")
    @patch("src.core.sv_engine.HUD")
    def test_proactive_lexicon_lift(self, mock_hud, mock_cortex, mock_brave, mock_vector, mock_strat, mock_config):
        engine = SovereignEngine(project_root=Path("dummy_root"))
    
        # Query with unknown term "flux_capacitor"
        # Mock vector engine vocab/stopwords
        mock_v_instance = mock_vector.return_value
        mock_v_instance.vocab = {"known"}
        mock_v_instance.stopwords = {"the"}
    
        # Mock search result with low score to trigger Bifrost
        mock_v_instance.search.return_value = [{"trigger": "none", "score": 0.5, "is_global": False}]
    
        # Mock Brave Search
        mock_brave_inst = mock_brave.return_value
        mock_brave_inst.search.return_value = [{"description": "A time travel device."}]
    
        engine.run("the flux_capacitor is broken")
    
        # Should trigger Brave Search
        mock_brave_inst.search.assert_called()
        args = mock_brave_inst.search.call_args[0][0]
        # Query is "Technical definition and synonyms for flux"
>       assert "flux" in args
E       AssertionError: assert 'flux' in 'Technical definition and synonyms for broken'

tests\empire_tests\test_sv_engine_empire.py:97: AssertionError
______________________ TestUIEmpire.test_ensure_persona _______________________

self = <test_ui_empire.TestUIEmpire object at 0x000001AD1BEBF610>
mock_file = <MagicMock name='open' id='1843044039520'>
mock_exists = <MagicMock name='exists' id='1843044714880'>

    @patch("src.core.ui.Path.exists", return_value=True)
    @patch("src.core.ui.Path.open", new_callable=mock_open, read_data='{"persona": "O.D.I.N."}')
    def test_ensure_persona(self, mock_file, mock_exists):
        HUD._ensure_persona()
>       assert HUD.PERSONA == "O.D.I.N."
E       AssertionError: assert 'ALFRED' == 'O.D.I.N.'
E         
E         - O.D.I.N.
E         + ALFRED

tests\empire_tests\test_ui_empire.py:30: AssertionError
_______________________ TestUIEmpire.test_progress_bar ________________________

self = <test_ui_empire.TestUIEmpire object at 0x000001AD1BEBF9D0>

    def test_progress_bar(self):
        bar = HUD.progress_bar(0.5, width=10)
        # Should have 5 full blocks
>       assert bar.count("â–ˆ") == 5
E       AssertionError: assert <MagicMock name='mock.HUD.progress_bar().count()' id='1843044716896'> == 5
E        +  where <MagicMock name='mock.HUD.progress_bar().count()' id='1843044716896'> = <MagicMock name='mock.HUD.progress_bar().count' id='1843044716560'>('â–ˆ')
E        +    where <MagicMock name='mock.HUD.progress_bar().count' id='1843044716560'> = <MagicMock name='mock.HUD.progress_bar()' id='1843044716224'>.count

tests\empire_tests\test_ui_empire.py:35: AssertionError
_________________________ TestUIEmpire.test_sparkline _________________________

self = <test_ui_empire.TestUIEmpire object at 0x000001AD1C00C640>

    def test_sparkline(self):
        data = [0, 10]
        spark = HUD.render_sparkline(data)
        # Should satisfy regex or specific chars
        # 0 -> ' ' (lowest), 10 -> 'â–ˆ' (highest)
        # The chars are " â–‚â–ƒâ–„â–…â–†â–‡â–ˆ"
>       assert spark[0] == " "
E       AssertionError: assert <MagicMock name='mock.HUD.render_sparkline().__getitem__()' id='1843044718912'> == ' '

tests\empire_tests\test_ui_empire.py:50: AssertionError
_______________________ TestUIEmpire.test_box_rendering _______________________

self = <test_ui_empire.TestUIEmpire object at 0x000001AD1C00D220>
capsys = <_pytest.capture.CaptureFixture object at 0x000001AD1D921E00>

    def test_box_rendering(self, capsys):
        HUD.box_top("TEST TITLE", width=40)
        captured = capsys.readouterr()
>       assert "TEST TITLE" in captured.out
E       AssertionError: assert 'TEST TITLE' in ''
E        +  where '' = CaptureResult(out='', err='').out

tests\empire_tests\test_ui_empire.py:56: AssertionError
_______________________ TestUIEmpire.test_log_rejection _______________________

self = <test_ui_empire.TestUIEmpire object at 0x000001AD1BF72F90>
mock_cwd = <MagicMock name='cwd' id='1843044720256'>

    @patch("src.core.ui.Path.cwd")
    def test_log_rejection(self, mock_cwd):
        mock_path = MagicMock()
        mock_cwd.return_value = mock_path
        mock_ledger = MagicMock()
        mock_path.__truediv__.return_value.__truediv__.return_value.__truediv__.return_value.__truediv__.return_value = mock_ledger
    
        mock_ledger.exists.return_value = True
    
        # We need to mock open on the ledger path object
        mock_handle = mock_open()
        mock_ledger.open = mock_handle
    
        HUD.log_rejection("TEST_PERSONA", "Reason", "Details")
    
>       mock_handle.assert_called()

tests\empire_tests\test_ui_empire.py:84: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <MagicMock name='open' id='1843044723952'>

    def assert_called(self):
        """assert that the mock was called at least once
        """
        if self.call_count == 0:
            msg = ("Expected '%s' to have been called." %
                   (self._mock_name or 'mock'))
>           raise AssertionError(msg)
E           AssertionError: Expected 'open' to have been called.

C:\Python314\Lib\unittest\mock.py:954: AssertionError
__________________________ test_load_config_missing ___________________________

tmp_path = WindowsPath('C:/Users/Craig/AppData/Local/Temp/pytest-of-Craig/pytest-255/test_load_config_missing1')

    def test_load_config_missing(tmp_path):
        # Should return empty dict if .agent/config.json missing
>       assert load_config(tmp_path) == {}
E       AssertionError: assert {'persona': 'O.D.I.N.'} == {}
E         
E         Left contains 1 more item:
E         {'persona': 'O.D.I.N.'}
E         Use -v to get more diff

tests\empire_tests\test_utils_empire.py:7: AssertionError
___________________________ test_load_config_valid ____________________________

tmp_path = WindowsPath('C:/Users/Craig/AppData/Local/Temp/pytest-of-Craig/pytest-255/test_load_config_valid1')

    def test_load_config_valid(tmp_path):
        agent_dir = tmp_path / ".agent"
        agent_dir.mkdir()
        (agent_dir / "config.json").write_text(json.dumps({"test": "ok"}), encoding='utf-8')
>       assert load_config(tmp_path) == {"test": "ok"}
E       AssertionError: assert {'persona': 'O.D.I.N.'} == {'test': 'ok'}
E         
E         Left contains 1 more item:
E         {'persona': 'O.D.I.N.'}
E         Right contains 1 more item:
E         {'test': 'ok'}
E         Use -v to get more diff

tests\empire_tests\test_utils_empire.py:13: AssertionError
_____________________________ test_sanitize_query _____________________________

    def test_sanitize_query():
>       assert sanitize_query("hello; world") == "hello world"
E       AssertionError: assert <MagicMock name='mock.sanitize_query()' id='1843044035488'> == 'hello world'
E        +  where <MagicMock name='mock.sanitize_query()' id='1843044035488'> = sanitize_query('hello; world')

tests\empire_tests\test_utils_empire.py:16: AssertionError
============================== warnings summary ===============================
..\..\AppData\Roaming\Python\Python314\site-packages\google\genai\types.py:43
  C:\Users\Craig\AppData\Roaming\Python\Python314\site-packages\google\genai\types.py:43: DeprecationWarning: '_UnionGenericAlias' is deprecated and slated for removal in Python 3.17
    VersionedUnionType = Union[builtin_types.UnionType, _UnionGenericAlias]

tests/empire_tests/test_sv_engine_empire.py::TestSovereignEngineEmpire::test_run_basic_flow
  C:\Users\Craig\AppData\Roaming\Python\Python314\site-packages\_pytest\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-29 (_read)
  
  Traceback (most recent call last):
    File "C:\Python314\Lib\threading.py", line 1082, in _bootstrap_inner
      self._context.run(self.run)
      ~~~~~~~~~~~~~~~~~^^^^^^^^^^
    File "C:\Python314\Lib\threading.py", line 1024, in run
      self._target(*self._args, **self._kwargs)
      ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    File "C:\Users\Craig\Corvus\CorvusStar\src\core\utils.py", line 54, in _read
      try: q.put(sys.stdin.readline().strip().lower())
                 ~~~~~~~~~~~~~~~~~~^^
    File "C:\Users\Craig\AppData\Roaming\Python\Python314\site-packages\_pytest\capture.py", line 229, in read
      raise OSError(
          "pytest: reading from stdin while output is captured!  Consider using `-s`."
      )
  OSError: pytest: reading from stdin while output is captured!  Consider using `-s`.
  
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/empire_tests/temp_gauntlet/test_engine_empire.py::TestEngineEmpire::test_engine_init
FAILED tests/empire_tests/temp_gauntlet/test_engine_empire.py::TestEngineEmpire::test_render_hud
FAILED tests/empire_tests/temp_gauntlet/test_harvest_empire.py::TestHarvestEmpire::test_harvest_loop
FAILED tests/empire_tests/test_core_engine_empire.py::test_hud_logging - Asse...
FAILED tests/empire_tests/test_dispatcher_help_empire.py::TestCorvusDispatcher::test_show_help_categorization
FAILED tests/empire_tests/test_sv_engine_empire.py::TestSovereignEngineEmpire::test_proactive_lexicon_lift
FAILED tests/empire_tests/test_ui_empire.py::TestUIEmpire::test_ensure_persona
FAILED tests/empire_tests/test_ui_empire.py::TestUIEmpire::test_progress_bar
FAILED tests/empire_tests/test_ui_empire.py::TestUIEmpire::test_sparkline - A...
FAILED tests/empire_tests/test_ui_empire.py::TestUIEmpire::test_box_rendering
FAILED tests/empire_tests/test_ui_empire.py::TestUIEmpire::test_log_rejection
FAILED tests/empire_tests/test_utils_empire.py::test_load_config_missing - As...
FAILED tests/empire_tests/test_utils_empire.py::test_load_config_valid - Asse...
FAILED tests/empire_tests/test_utils_empire.py::test_sanitize_query - Asserti...
================= 14 failed, 197 passed, 2 warnings in 39.23s =================
